(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aea1eb5"],{"1b81":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择测风塔",clearable:""},on:{change:t.handleTowerSelect},model:{value:t.listQuery.ID,callback:function(e){t.$set(t.listQuery,"ID",e)},expression:"listQuery.ID"}},t._l(t.towerOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("h4",{staticStyle:{color:"#909399"}},[t._v("选择清洗规则")]),n("el-table",{ref:"ruleTemplateTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),n("el-table-column",{attrs:{label:"编号",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.ID))]}}])}),n("el-table-column",{attrs:{prop:"NAME",label:"规则名称",align:"center",width:"180"}}),n("el-table-column",{attrs:{prop:"STATUS",label:"状态",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:"1"==String(e.row.STATUS)?"success":void 0}},[n("span",[t._v(t._s(t.statusMap[String(e.row.STATUS)]))])])]}}])}),n("el-table-column",{attrs:{prop:"RULES",label:"规则描述",align:"center"}})],1),n("el-divider"),n("div",{staticStyle:{margin:"16px 0",display:"flex","justify-content":"center"}},[n("el-button",{attrs:{type:"primary",size:"small",loading:t.listLoading},on:{click:t.handleSubmit}},[t._v("\n      确定\n    ")])],1)],1)},r=[],u=n("31ed"),o=n("eb91"),i=n("4c7d"),s={name:"DataCleaning",data(){return{towerOptions:[],tableData:[],key:0,listQuery:{ID:void 0},listLoading:!1,type:"name",ruleData:{},multipleSelection:[],statusMap:{1:"用户添加",0:"系统自带"}}},mounted(){this.getWindTower(),this.getTemplateList()},methods:{async getWindTower(){const t=await Object(u["a"])({userType:this.$store.getters.roles,organize:this.$store.getters.organize});if(200===t.code){const e=t&&t.data;this.towerOptions=[],Object.keys(e).forEach(t=>{this.towerOptions.push({label:e[t],value:t})})}},handleSelectionChange(t){console.log(t),this.multipleSelection=t},async getTemplateList(){const t=await Object(o["r"])({pageIndex:1,pageSize:9999});if(200===t.code){this.multipleSelection=[];const e=t.data;if(console.log(e),this.tableData=e.items,this.tableData.length)for(let t=0;t<this.tableData.length;t++)if(1===this.tableData[t].STATUS)return this.multipleSelection.push(this.tableData[t]),void this.$refs.ruleTemplateTable.setCurrentRow(this.tableData[t])}},async handleSubmit(){if(!this.listQuery||!this.listQuery.ID)return void this.$message({message:"请选择测风塔！",type:"error"});if(!this.multipleSelection||!Object.keys(this.multipleSelection).length)return void this.$message({message:"请选择至少一个规则！",type:"error"});const t=[];this.multipleSelection.length&&this.multipleSelection.map(e=>{t.push(e.ID)}),this.listLoading=!0;const e=await Object(i["b"])({ID:this.listQuery.ID,verifyRuleIDs:t.join(",")});if(this.listLoading=!1,!e||200!==e.code)return this.$message({message:"请求失败！",type:"error"}),!1;this.$message({message:e&&e.msg||"请求已经成功处理！",type:"success"})},handleTowerSelect(t){this.listQuery.ID=t||""},handleFilter(){}}},l=s,c=n("2877"),d=Object(c["a"])(l,a,r,!1,null,null,null);e["default"]=d.exports},"31ed":function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return l}));var a=n("b775");window.GLOBAL_CONFIG.VUE_APP_BASE_API;const r=window.GLOBAL_CONFIG.VUE_APP_BASE_API_2;function u(t){return Object(a["a"])({url:r+"/atm/mast/showMap",method:"get",params:t})}function o(t){return Object(a["a"])({url:r+"/atm/mast/showPage",method:"post",data:t})}function i(t){return Object(a["a"])({url:r+"/atm/mast/showPageTrue",method:"post",data:t})}function s(t){return Object(a["a"])({url:r+"/atm/mast/detail",method:"post",data:t})}function l(t){return Object(a["a"])({url:r+"/atm/mast/listTrue",method:"get",params:t})}},"4c7d":function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"c",(function(){return d}));var a=n("b775");const r=window.GLOBAL_CONFIG.VUE_APP_BASE_API_2;function u(t){return Object(a["a"])({url:r+"/atm/verifyTemp/mastManual",method:"get",params:t})}function o(t){return Object(a["a"])({url:r+"/atm/analysis/adjust",method:"get",params:t})}function i(t){return Object(a["a"])({url:r+"/atm/analysis/verticalExtra",method:"get",params:t})}function s(t){return Object(a["a"])({url:r+"/atm/analysis/correlation",method:"post",data:t})}function l(t){return Object(a["a"])({url:r+"/atm/analysis/oneButton",method:"post",data:t})}function c(t){return Object(a["a"])({url:r+"/atm/verify/resultShowPage",method:"post",data:t})}function d(t){return Object(a["a"])({url:r+"/atm/interpolation",method:"post",data:t})}},eb91:function(t,e,n){"use strict";n.d(e,"l",(function(){return o})),n.d(e,"h",(function(){return i})),n.d(e,"n",(function(){return s})),n.d(e,"j",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"g",(function(){return d})),n.d(e,"k",(function(){return m})),n.d(e,"t",(function(){return h})),n.d(e,"v",(function(){return f})),n.d(e,"m",(function(){return p})),n.d(e,"r",(function(){return b})),n.d(e,"q",(function(){return g})),n.d(e,"s",(function(){return O})),n.d(e,"d",(function(){return j})),n.d(e,"u",(function(){return w})),n.d(e,"x",(function(){return S})),n.d(e,"c",(function(){return y})),n.d(e,"y",(function(){return _})),n.d(e,"o",(function(){return v})),n.d(e,"w",(function(){return A})),n.d(e,"a",(function(){return T})),n.d(e,"i",(function(){return D})),n.d(e,"p",(function(){return I})),n.d(e,"b",(function(){return P})),n.d(e,"f",(function(){return L}));var a=n("b775");const r=window.GLOBAL_CONFIG.VUE_APP_BASE_API,u=window.GLOBAL_CONFIG.VUE_APP_BASE_API_2;function o(t){return Object(a["a"])({url:u+"/atm/mast/add",method:"post",data:t})}function i(t){return Object(a["a"])({url:u+"/atm/mast/edit",method:"post",data:t})}function s(t){return Object(a["a"])({url:u+"/atm/mast/mastDataSave",method:"get",params:t})}function l(t){return Object(a["a"])({url:u+"/atm/mast/mastDataShow",method:"post",data:t})}function c(){return Object(a["a"])({url:r+"/atm/mast/channeldict",method:"get"})}function d(t){return Object(a["a"])({url:u+"/atm/mast/mastDelete",method:"get",params:t})}function m(t){return Object(a["a"])({url:u+"/atm/warnTemp/showPage",method:"post",data:t})}function h(t){return Object(a["a"])({url:u+"/atm/warnTemp/mast",method:"get",params:t})}function f(t){return Object(a["a"])({url:u+"/atm/mast/editmastchannel",method:"post",data:t})}function p(t){return Object(a["a"])({url:u+"/atm/mast/mastChannelSave",method:"post",data:t})}function b(t){return Object(a["a"])({url:u+"/atm/rule/showPage",method:"post",data:t})}function g(t){return Object(a["a"])({url:u+"/atm/rule/delrule",method:"get",params:t})}function O(t){return Object(a["a"])({url:u+"/atm/templet/showPage",method:"post",data:t})}function j(t){return Object(a["a"])({url:u+"/atm/mast/delmastchannel",method:"post",data:t})}function w(t){return Object(a["a"])({url:u+"/atm/templet/deltemplet",method:"get",params:t})}function S(t){return Object(a["a"])({url:u+"/atm/mast/mastChannelGet",method:"get",params:t})}function y(t){return Object(a["a"])({url:u+"/atm/mast/channelShowPage",method:"post",data:t})}function _(t){return Object(a["a"])({url:u+"/atm/mast/mastfile",method:"post",data:t})}function v(t){return Object(a["a"])({url:u+"/atm/templet/addtemplet",method:"post",data:t})}function A(t){return Object(a["a"])({url:u+"/atm/templet/edittemplet",method:"post",data:t})}function T(t){return Object(a["a"])({url:u+"/atm/rule/addrule",method:"post",data:t})}function D(t){return Object(a["a"])({url:u+"/atm/rule/editrule",method:"post",data:t})}function I(t){return Object(a["a"])({url:u+"/atm/project/list",method:"get",params:t})}function P(t){return Object(a["a"])({url:u+"/atm/cleanTemp/mast",method:"get",params:t})}function L(t){return Object(a["a"])({url:u+"/atm/clearRules/describe",method:"post",data:t})}}}]);